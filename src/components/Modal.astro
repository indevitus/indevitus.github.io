---
const { title } = Astro.props
---

<dialog id={`modal-${title}`} class="dialog">
  <a id={`dialog-close-${title}`} href="#">
    <img id="dialog" src="/close.svg" alt="Close" class="h-4 w-4 absolute right-4 top-4 cursor-pointer"/>
  </a>
  <slot />
</dialog>

<script>
  const dialog = document.querySelectorAll("dialog");
  const dialogClose = document.querySelectorAll('[id^="dialog-close-"')

  dialogClose.forEach((close, index) => {
    close.addEventListener('click', () => {
      dialog[index].close();
    })
  })

</script>

<style>
  .dialog {
    @apply fixed max-w-lg top-0 border border-solid border-black transition-all duration-300 ease-in-out p-8 cursor-default;
  }

  .dialog::backdrop {
    @apply fixed top-0 right-0 bottom-0 left-0 bg-secondary/90 transition-all duration-300 ease-in-out;
  }
</style>
